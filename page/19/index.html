<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://yoursite.com/page/19/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-linux_command/readelf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/readelf/" class="article-date">
  <time datetime="2019-05-15T13:24:15.074Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="readelf"><a href="#readelf" class="headerlink" title="readelf"></a>readelf</h1><p>用于显示elf格式文件的信息</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>readelf命令</strong> 用来显示一个或者多个elf格式的目标文件的信息，可以通过它的选项来控制显示哪些信息。这里的elf-file(s)就表示那些被检查的文件。可以支持32位，64位的elf格式文件，也支持包含elf文件的文档（这里一般指的是使用ar命令将一些elf文件打包之后生成的例如lib*.a之类的“静态库”文件）。 </p>
<p>这个程序和objdump提供的功能类似，但是它显示的信息更为具体，并且它不依赖BFD库(BFD库是一个GNU项目，它的目标就是希望通过一种统一的接口来处理不同的目标文件)，所以即使BFD库有什么bug存在的话也不会影响到readelf程序。 </p>
<p>运行readelf的时候，除了-v和-H之外，其它的选项必须有一个被指定。 </p>
<h3 id="ELF文件类型"><a href="#ELF文件类型" class="headerlink" title="ELF文件类型"></a>ELF文件类型</h3><p> <strong>种类型的ELF文件：</strong> </p>
<ol>
<li>可重定位文件:用户和其他目标文件一起创建可执行文件或者共享目标文件,例如lib*.a文件。 </li>
<li>可执行文件：用于生成进程映像，载入内存执行,例如编译好的可执行文件a.out。 </li>
<li><p>共享目标文件：用于和其他共享目标文件或者可重定位文件一起生成elf目标文件或者和执行文件一起创建进程映像，例如lib*.so文件。 </p>
<p><strong>ELF文件作用：</strong> </p>
</li>
</ol>
<p>ELF文件参与程序的连接(建立一个程序)和程序的执行(运行一个程序)，所以可以从不同的角度来看待elf格式的文件： </p>
<ol>
<li>如果用于编译和链接（可重定位文件），则编译器和链接器将把elf文件看作是节头表描述的节的集合,程序头表可选。 </li>
<li>如果用于加载执行（可执行文件），则加载器则将把elf文件看作是程序头表描述的段的集合，一个段可能包含多个节，节头表可选。 </li>
<li><p>如果是共享文件，则两者都含有。 </p>
<p><strong>ELF文件总体组成：</strong>  </p>
</li>
</ol>
<p>elf文件头描述elf文件的总体信息。包括：系统相关，类型相关，加载相关，链接相关。 </p>
<ul>
<li>系统相关表示：elf文件标识的魔术数，以及硬件和平台等相关信息，增加了elf文件的移植性,使交叉编译成为可能。 </li>
<li>类型相关就是前面说的那个类型。 </li>
<li>加载相关：包括程序头表相关信息。 </li>
<li>链接相关：节头表相关信息。 </li>
</ul>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">-a </span><br><span class="line">--all 显示全部信息,等价于 -h -l -S -s -r -d -V -A -I. </span><br><span class="line"></span><br><span class="line">-h </span><br><span class="line">--file-header 显示elf文件开始的文件头信息. </span><br><span class="line"></span><br><span class="line">-l </span><br><span class="line">--program-headers  </span><br><span class="line">--segments 显示程序头（段头）信息(如果有的话)。 </span><br><span class="line"></span><br><span class="line">-S </span><br><span class="line">--section-headers  </span><br><span class="line">--sections 显示节头信息(如果有的话)。 </span><br><span class="line"></span><br><span class="line">-g </span><br><span class="line">--section-groups 显示节组信息(如果有的话)。 </span><br><span class="line"></span><br><span class="line">-t </span><br><span class="line">--section-details 显示节的详细信息(-S的)。 </span><br><span class="line"></span><br><span class="line">-s </span><br><span class="line">--syms        </span><br><span class="line">--symbols 显示符号表段中的项（如果有的话）。 </span><br><span class="line"></span><br><span class="line">-e </span><br><span class="line">--headers 显示全部头信息，等价于: -h -l -S </span><br><span class="line"></span><br><span class="line">-n </span><br><span class="line">--notes 显示note段（内核注释）的信息。 </span><br><span class="line"></span><br><span class="line">-r </span><br><span class="line">--relocs 显示可重定位段的信息。 </span><br><span class="line"></span><br><span class="line">-u </span><br><span class="line">--unwind 显示unwind段信息。当前只支持IA64 ELF的unwind段信息。 </span><br><span class="line"></span><br><span class="line">-d </span><br><span class="line">--dynamic 显示动态段的信息。 </span><br><span class="line"></span><br><span class="line">-V </span><br><span class="line">--version-info 显示版本段的信息。 </span><br><span class="line"></span><br><span class="line">-A </span><br><span class="line">--arch-specific 显示CPU构架信息。 </span><br><span class="line"></span><br><span class="line">-D </span><br><span class="line">--use-dynamic 使用动态段中的符号表显示符号，而不是使用符号段。 </span><br><span class="line"></span><br><span class="line">-x &lt;number or name&gt; </span><br><span class="line">--hex-dump=&lt;number or name&gt; 以16进制方式显示指定段内内容。number指定段表中段的索引,或字符串指定文件中的段名。 </span><br><span class="line"></span><br><span class="line">-w[liaprmfFsoR] or </span><br><span class="line">--debug-dump[=line,=info,=abbrev,=pubnames,=aranges,=macro,=frames,=frames-interp,=str,=loc,=Ranges] 显示调试段中指定的内容。 </span><br><span class="line"></span><br><span class="line">-I </span><br><span class="line">--histogram 显示符号的时候，显示bucket list长度的柱状图。 </span><br><span class="line"></span><br><span class="line">-v </span><br><span class="line">--version 显示readelf的版本信息。 </span><br><span class="line"></span><br><span class="line">-H </span><br><span class="line">--help 显示readelf所支持的命令行选项。 </span><br><span class="line"></span><br><span class="line">-W </span><br><span class="line">--wide 宽行输出。 </span><br><span class="line"></span><br><span class="line">@file 可以将选项集中到一个文件中，然后使用这个@file选项载入。</span><br></pre></td></tr></table></figure>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>先给出如下例子：</p>
<p> <strong>1.对于可执行文件形式的elf格式文件：</strong> </p>
<p>1)查看可执行程序的源代码如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">root@localhost [test]$ cat main.cpp </span><br><span class="line">#include &lt;iostream&gt; </span><br><span class="line">using std::cout; </span><br><span class="line">using std::endl; </span><br><span class="line">void my_print(); </span><br><span class="line"></span><br><span class="line">int main(int argc, char *argv[]) </span><br><span class="line">&#123; </span><br><span class="line">        my_print(); </span><br><span class="line">        cout&lt;&lt;&quot;hello!&quot;&lt;&lt;endl; </span><br><span class="line">        return 0; </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line">void  my_print() </span><br><span class="line">&#123; </span><br><span class="line">        cout&lt;&lt;&quot;print!&quot;&lt;&lt;endl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2)编译如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ g++ main.cpp -o main </span><br><span class="line">[root@localhost test]$ g++ -g main.cpp -o main.debug</span><br></pre></td></tr></table></figure>
<p>3)编译之后，查看生成的文件： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ ls -l </span><br><span class="line">总计 64 </span><br><span class="line">-rwxr-xr-x 1 quietheart quietheart  6700 07-07 18:04 main </span><br><span class="line">-rw-r--r-- 1 quietheart quietheart   201 07-07 18:02 main.cpp </span><br><span class="line">-rwxr-xr-x 1 quietheart quietheart 38932 07-07 18:04 main.debug</span><br></pre></td></tr></table></figure>
<p>这里，main.debug是带有调试信息的可执行文件，main是一般的可执行文件。 </p>
<p> <strong>2.对于库文件形式的elf格式文件：</strong> </p>
<p>1)查看库的源代码如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//myfile.h </span><br><span class="line">#ifndef __MYFILE_H </span><br><span class="line">#define __MYFILE_H </span><br><span class="line">void printInfo(); </span><br><span class="line">#endif </span><br><span class="line"></span><br><span class="line">//myfile.cpp </span><br><span class="line">#include &quot;myfile.h&quot; </span><br><span class="line">#include &lt;iostream&gt; </span><br><span class="line">using std::cout; </span><br><span class="line">using std::endl; </span><br><span class="line">void printInfo() </span><br><span class="line">&#123; </span><br><span class="line">    cout&lt;&lt;&quot;hello&quot;&lt;&lt;endl; </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>2)编译如下： </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ g++ -c myfile.cpp </span><br><span class="line">[root@localhost test]$ g++ -shared -fPCI -o libmy.so myfile.o </span><br><span class="line">[root@localhost test]$ ar -r libmy.a myfile.o </span><br><span class="line">ar: creating libmy.a</span><br></pre></td></tr></table></figure>
<p>3)编译之后，查看生成的文件： </p>
<p>[root@localhost test]$ ls -l </p>
<p>总计 44 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r-- 1 quietheart quietheart 2154 07-08 16:14 libmy.a </span><br><span class="line">-rwxr-xr-x 1 quietheart quietheart 5707 07-08 16:08 libmy.so </span><br><span class="line">-rwxr-xr-x 1 quietheart quietheart  117 07-08 16:06 myfile.cpp </span><br><span class="line">-rwxr-xr-x 1 quietheart quietheart   63 07-08 16:08 myfile.h </span><br><span class="line">-rw-r--r-- 1 quietheart quietheart 2004 07-08 16:08 myfile.o </span><br><span class="line">libmy.a  libmy.so  myfile.cpp  myfile.h  myfile.o</span><br></pre></td></tr></table></figure>
<p>这里，分别生成目标文件myfile.o，共享库文件libmy.so，和静态库文件libmy.a。 </p>
<p>基于以上可执行文件和库，这里给出一些常用的命令。 </p>
<p> <strong>读取可执行文件形式的elf文件头信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -h main </span><br><span class="line">ELF Header: </span><br><span class="line">  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF32 </span><br><span class="line">  Data:                              2&apos;s complement, little endian </span><br><span class="line">  Version:                           1 (current) </span><br><span class="line">  OS/ABI:                            UNIX - System V </span><br><span class="line">  ABI Version:                       0 </span><br><span class="line">  type:                              exec (Executable file) </span><br><span class="line">  Machine:                           Intel 80386 </span><br><span class="line">  Version:                           0x1 </span><br><span class="line">  Entry point address:               0x8048580 </span><br><span class="line">  Start of program headers:          52 (bytes into file) </span><br><span class="line">  Start of section headers:          3232 (bytes into file) </span><br><span class="line">  Flags:                             0x0 </span><br><span class="line">  Size of this header:               52 (bytes) </span><br><span class="line">  Size of program headers:           32 (bytes) </span><br><span class="line">  Number of program headers:         8 </span><br><span class="line">  Size of section headers:           40 (bytes) </span><br><span class="line">  Number of section headers:         29 </span><br><span class="line">  Section header string table index: 26</span><br></pre></td></tr></table></figure>
<p>这里，可见可执行文件的elf文件，其类型为EXEC(可执行文件)。另外，含调试信息的”main.debug”和不含调试信息的”main”除了一些大小信息之外，其内容是一样的。并且由此可见文件的体系结构为Intel 80386。 </p>
<p> <strong>读取目标文件形式的elf文件头信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -h myfile.o </span><br><span class="line">ELF Header: </span><br><span class="line">  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF32 </span><br><span class="line">  Data:                              2&apos;s complement, little endian </span><br><span class="line">  Version:                           1 (current) </span><br><span class="line">  OS/ABI:                            UNIX - System V </span><br><span class="line">  ABI Version:                       0 </span><br><span class="line">  Type:                              REL (Relocatable file) </span><br><span class="line">  Machine:                           Intel 80386 </span><br><span class="line">  Version:                           0x1 </span><br><span class="line">  Entry point address:               0x0 </span><br><span class="line">  Start of program headers:          0 (bytes into file) </span><br><span class="line">  Start of section headers:          516 (bytes into file) </span><br><span class="line">  Flags:                             0x0 </span><br><span class="line">  Size of this header:               52 (bytes) </span><br><span class="line">  Size of program headers:           0 (bytes) </span><br><span class="line">  Number of program headers:         0 </span><br><span class="line">  Size of section headers:           40 (bytes) </span><br><span class="line">  Number of section headers:         15 </span><br><span class="line">  Section header string table index: 12</span><br></pre></td></tr></table></figure>
<p>这里，可见目标文件的elf文件，其类型为REL(可重定位文件)。 </p>
<p> <strong>读取静态库文件形式的elf文件头信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -h libmy.a </span><br><span class="line">File: libmy.a(myfile.o) </span><br><span class="line">ELF Header: </span><br><span class="line">  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF32 </span><br><span class="line">  Data:                              2&apos;s complement, little endian </span><br><span class="line">  Version:                           1 (current) </span><br><span class="line">  OS/ABI:                            UNIX - System V </span><br><span class="line">  ABI Version:                       0 </span><br><span class="line">  Type:                              REL (Relocatable file) </span><br><span class="line">  Machine:                           Intel 80386 </span><br><span class="line">  Version:                           0x1 </span><br><span class="line">  Entry point address:               0x0 </span><br><span class="line">  Start of program headers:          0 (bytes into file) </span><br><span class="line">  Start of section headers:          516 (bytes into file) </span><br><span class="line">  Flags:                             0x0 </span><br><span class="line">  Size of this header:               52 (bytes) </span><br><span class="line">  Size of program headers:           0 (bytes) </span><br><span class="line">  Number of program headers:         0 </span><br><span class="line">  Size of section headers:           40 (bytes) </span><br><span class="line">  Number of section headers:         15 </span><br><span class="line">  Section header string table index: 12</span><br></pre></td></tr></table></figure>
<p>这里，可见静态库文件的elf文件，其类型为REL(可重定位文件)。 </p>
<p> <strong>读取动态库文件形式的elf文件头信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -h libmy.so </span><br><span class="line">ELF Header: </span><br><span class="line">  Magic:   7f 45 4c 46 01 01 01 00 00 00 00 00 00 00 00 00 </span><br><span class="line">  Class:                             ELF32 </span><br><span class="line">  Data:                              2&apos;s complement, little endian </span><br><span class="line">  Version:                           1 (current) </span><br><span class="line">  OS/ABI:                            UNIX - System V </span><br><span class="line">  ABI Version:                       0 </span><br><span class="line">  Type:                              DYN (Shared object file) </span><br><span class="line">  Machine:                           Intel 80386 </span><br><span class="line">  Version:                           0x1 </span><br><span class="line">  Entry point address:               0x550 </span><br><span class="line">  Start of program headers:          52 (bytes into file) </span><br><span class="line">  Start of section headers:          2768 (bytes into file) </span><br><span class="line">  Flags:                             0x0 </span><br><span class="line">  Size of this header:               52 (bytes) </span><br><span class="line">  Size of program headers:           32 (bytes) </span><br><span class="line">  Number of program headers:         5 </span><br><span class="line">  Size of section headers:           40 (bytes) </span><br><span class="line">  Number of section headers:         27 </span><br><span class="line">  Section header string table index: 24</span><br></pre></td></tr></table></figure>
<p>这里，可见动态库文件的elf文件，其类型为DYN(共享目标文件)。 </p>
<p> <strong>查看可执行的elf文件程序头表信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -l main </span><br><span class="line">Elf file type is EXEC (Executable file) </span><br><span class="line">Entry point 0x8048580 </span><br><span class="line">There are 8 program headers, starting at offset 52 </span><br><span class="line"></span><br><span class="line">Program Headers: </span><br><span class="line">  Type           Offset   VirtAddr   PhysAddr   FileSiz MemSiz  Flg Align </span><br><span class="line">  PHDR           0x000034 0x08048034 0x08048034 0x00100 0x00100 R E 0x4 </span><br><span class="line">  INTERP         0x000134 0x08048134 0x08048134 0x00013 0x00013 R   0x1 </span><br><span class="line">      Requesting program interpreter: /lib/[ld-linux.so.2] </span><br><span class="line">  LOAD           0x000000 0x08048000 0x08048000 0x00970 0x00970 R E 0x1000 </span><br><span class="line">  LOAD           0x000970 0x08049970 0x08049970 0x00130 0x001c8 RW  0x1000 </span><br><span class="line">  DYNAMIC        0x000988 0x08049988 0x08049988 0x000e0 0x000e0 RW  0x4 </span><br><span class="line">  NOTE           0x000148 0x08048148 0x08048148 0x00020 0x00020 R   0x4 </span><br><span class="line">  GNU_EH_FRAME   0x000820 0x08048820 0x08048820 0x00044 0x00044 R   0x4 </span><br><span class="line">  GNU_STACK      0x000000 0x00000000 0x00000000 0x00000 0x00000 RW  0x4 </span><br><span class="line"></span><br><span class="line">Section to Segment mapping: </span><br><span class="line">  Segment Sections... </span><br><span class="line">   00     </span><br><span class="line">   01     .interp </span><br><span class="line">   02     .interp .note.ABI-tag .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rel.dyn .rel.plt .init .plt .text .fini .rodata .eh_frame_hdr .eh_frame </span><br><span class="line">   03     .ctors .dtors .jcr .dynamic .got .got.plt .data .bss </span><br><span class="line">   04     .dynamic </span><br><span class="line">   05     .note.ABI-tag </span><br><span class="line">   06     .eh_frame_hdr </span><br><span class="line">   07</span><br></pre></td></tr></table></figure>
<p>这里，含调试信息的”main.debug”和不含调试信息的”main”其内容是一样的。 </p>
<p> <strong>查看目标文件的elf文件程序头表信息： </strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -l myfile.o </span><br><span class="line">There are no program headers in this file.</span><br></pre></td></tr></table></figure>
<p>这里可知，可重定位的目标文件，它没程序头表。 </p>
<p> <strong>查看静态库文件的elf文件程序头表信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -l libmy.a </span><br><span class="line">File: libmy.a(myfile.o) </span><br><span class="line">There are no program headers in this file.</span><br></pre></td></tr></table></figure>
<p>这里可知，可重定位的静态库文件，它没程序头表。 </p>
<p> <strong>查看动态库文件的elf文件程序头表信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -l libmy.so </span><br><span class="line">Elf file type is DYN (Shared object file) </span><br><span class="line">Entry point 0x550 </span><br><span class="line">There are 5 program headers, starting at offset 52 </span><br><span class="line"></span><br><span class="line">Program Headers: </span><br><span class="line">  Type           Offset   VirtAddr   PhysAddr   FileSiz MemSiz  Flg Align </span><br><span class="line">  LOAD           0x000000 0x00000000 0x00000000 0x007f4 0x007f4 R E 0x1000 </span><br><span class="line">  LOAD           0x0007f4 0x000017f4 0x000017f4 0x0011c 0x00128 RW  0x1000 </span><br><span class="line">  DYNAMIC        0x000810 0x00001810 0x00001810 0x000e0 0x000e0 RW  0x4 </span><br><span class="line">  GNU_EH_FRAME   0x000738 0x00000738 0x00000738 0x0002c 0x0002c R   0x4 </span><br><span class="line">  GNU_STACK      0x000000 0x00000000 0x00000000 0x00000 0x00000 RW  0x4 </span><br><span class="line"></span><br><span class="line">Section to Segment mapping: </span><br><span class="line">  Segment Sections... </span><br><span class="line">   00     .gnu.hash .dynsym .dynstr .gnu.version .gnu.version_r .rel.dyn .rel.plt .init .plt .text .fini .rodata .eh_frame_hdr .eh_frame </span><br><span class="line">   01     .ctors .dtors .jcr .data.rel.ro .dynamic .got .got.plt .bss </span><br><span class="line">   02     .dynamic </span><br><span class="line">   03     .eh_frame_hdr </span><br><span class="line">   04</span><br></pre></td></tr></table></figure>
<p>这里可知，做为共享目标文件的动态库，它程序头表。 </p>
<p> <strong>查看一个可执行的elf文件的节信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -S main </span><br><span class="line">There are 29 section headers, starting at offset 0xca0: </span><br><span class="line">Section Headers: </span><br><span class="line">  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al </span><br><span class="line">  [ 0]                   NULL            00000000 000000 000000 00      0   0  0 </span><br><span class="line">  [ 1] .interp           PROGBITS        08048134 000134 000013 00   A  0   0  1 </span><br><span class="line">  [ 2] .note.ABI-tag     NOTE            08048148 000148 000020 00   A  0   0  4 </span><br><span class="line">  [ 3] .gnu.hash         GNU_HASH        08048168 000168 000030 04   A  4   0  4 </span><br><span class="line">  [ 4] .dynsym           DYNSYM          08048198 000198 0000d0 10   A  5   1  4 </span><br><span class="line">  [ 5] .dynstr           STRTAB          08048268 000268 000183 00   A  0   0  1 </span><br><span class="line">  [ 6] .gnu.version      VERSYM          080483ec 0003ec 00001a 02   A  4   0  2 </span><br><span class="line">  [ 7] .gnu.version_r    VERNEED         08048408 000408 000060 00   A  5   2  4 </span><br><span class="line">  [ 8] .rel.dyn          REL             08048468 000468 000010 08   A  4   0  4 </span><br><span class="line">  [ 9] .rel.plt          REL             08048478 000478 000048 08   A  4  11  4 </span><br><span class="line">  [10] .init             PROGBITS        080484c0 0004c0 000017 00  AX  0   0  4 </span><br><span class="line">  [11] .plt              PROGBITS        080484d8 0004d8 0000a0 04  AX  0   0  4 </span><br><span class="line">  [12] .text             PROGBITS        08048580 000580 000268 00  AX  0   0 16 </span><br><span class="line">  [13] .fini             PROGBITS        080487e8 0007e8 00001c 00  AX  0   0  4 </span><br><span class="line">  [14] .rodata           PROGBITS        08048804 000804 00001a 00   A  0   0  4 </span><br><span class="line">  [15] .eh_frame_hdr     PROGBITS        08048820 000820 000044 00   A  0   0  4 </span><br><span class="line">  [16] .eh_frame         PROGBITS        08048864 000864 00010c 00   A  0   0  4 </span><br><span class="line">  [17] .ctors            PROGBITS        08049970 000970 00000c 00  WA  0   0  4 </span><br><span class="line">  [18] .dtors            PROGBITS        0804997c 00097c 000008 00  WA  0   0  4 </span><br><span class="line">  [19] .jcr              PROGBITS        08049984 000984 000004 00  WA  0   0  4 </span><br><span class="line">  [20] .dynamic          DYNAMIC         08049988 000988 0000e0 08  WA  5   0  4 </span><br><span class="line">  [21] .got              PROGBITS        08049a68 000a68 000004 04  WA  0   0  4 </span><br><span class="line">  [22] .got.plt          PROGBITS        08049a6c 000a6c 000030 04  WA  0   0  4 </span><br><span class="line">  [23] .data             PROGBITS        08049a9c 000a9c 000004 00  WA  0   0  4 </span><br><span class="line">  [24] .bss              NOBITS          08049aa0 000aa0 000098 00  WA  0   0  8 </span><br><span class="line">  [25] .comment          PROGBITS        00000000 000aa0 000114 00      0   0  1 </span><br><span class="line">  [26] .shstrtab         STRTAB          00000000 000bb4 0000e9 00      0   0  1 </span><br><span class="line">  [27] .symtab           SYMTAB          00000000 001128 000510 10     28  53  4 </span><br><span class="line">  [28] .strtab           STRTAB          00000000 001638 0003f4 00      0   0  1 </span><br><span class="line">Key to Flags: </span><br><span class="line">  W (write), A (alloc), X (execute), M (merge), S (strings) </span><br><span class="line">  I (info), L (link order), G (group), x (unknown) </span><br><span class="line">  O (extra OS processing required) o (OS specific), p (processor specific)</span><br></pre></td></tr></table></figure>
<p>这里，main是可执行文件，不含调试信息。 </p>
<p> <strong>查看一个包含调试信息的可执行的elf文件的节信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -S main.debug </span><br><span class="line">There are 37 section headers, starting at offset 0x88c8: </span><br><span class="line"></span><br><span class="line">Section Headers: </span><br><span class="line">  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al </span><br><span class="line">  [ 0]                   NULL            00000000 000000 000000 00      0   0  0 </span><br><span class="line">  [ 1] .interp           PROGBITS        08048134 000134 000013 00   A  0   0  1 </span><br><span class="line">  [ 2] .note.ABI-tag     NOTE            08048148 000148 000020 00   A  0   0  4 </span><br><span class="line">  [ 3] .gnu.hash         GNU_HASH        08048168 000168 000030 04   A  4   0  4 </span><br><span class="line">  [ 4] .dynsym           DYNSYM          08048198 000198 0000d0 10   A  5   1  4 </span><br><span class="line">  [ 5] .dynstr           STRTAB          08048268 000268 000183 00   A  0   0  1 </span><br><span class="line">  [ 6] .gnu.version      VERSYM          080483ec 0003ec 00001a 02   A  4   0  2 </span><br><span class="line">  [ 7] .gnu.version_r    VERNEED         08048408 000408 000060 00   A  5   2  4 </span><br><span class="line">  [ 8] .rel.dyn          REL             08048468 000468 000010 08   A  4   0  4 </span><br><span class="line">  [ 9] .rel.plt          REL             08048478 000478 000048 08   A  4  11  4 </span><br><span class="line">  [10] .init             PROGBITS        080484c0 0004c0 000017 00  AX  0   0  4 </span><br><span class="line">  [11] .plt              PROGBITS        080484d8 0004d8 0000a0 04  AX  0   0  4 </span><br><span class="line">  [12] .text             PROGBITS        08048580 000580 000268 00  AX  0   0 16 </span><br><span class="line">  [13] .fini             PROGBITS        080487e8 0007e8 00001c 00  AX  0   0  4 </span><br><span class="line">  [14] .rodata           PROGBITS        08048804 000804 00001a 00   A  0   0  4 </span><br><span class="line">  [15] .eh_frame_hdr     PROGBITS        08048820 000820 000044 00   A  0   0  4 </span><br><span class="line">  [16] .eh_frame         PROGBITS        08048864 000864 00010c 00   A  0   0  4 </span><br><span class="line">  [17] .ctors            PROGBITS        08049970 000970 00000c 00  WA  0   0  4 </span><br><span class="line">  [18] .dtors            PROGBITS        0804997c 00097c 000008 00  WA  0   0  4 </span><br><span class="line">  [19] .jcr              PROGBITS        08049984 000984 000004 00  WA  0   0  4 </span><br><span class="line">  [20] .dynamic          DYNAMIC         08049988 000988 0000e0 08  WA  5   0  4 </span><br><span class="line">  [21] .got              PROGBITS        08049a68 000a68 000004 04  WA  0   0  4 </span><br><span class="line">  [22] .got.plt          PROGBITS        08049a6c 000a6c 000030 04  WA  0   0  4 </span><br><span class="line">  [23] .data             PROGBITS        08049a9c 000a9c 000004 00  WA  0   0  4 </span><br><span class="line">  [24] .bss              NOBITS          08049aa0 000aa0 000098 00  WA  0   0  8 </span><br><span class="line">  [25] .comment          PROGBITS        00000000 000aa0 000114 00      0   0  1 </span><br><span class="line">  [26] .debug_aranges    PROGBITS        00000000 000bb4 000020 00      0   0  1 </span><br><span class="line">  [27] .debug_pubnames   PROGBITS        00000000 000bd4 000028 00      0   0  1 </span><br><span class="line">  [28] .debug_info       PROGBITS        00000000 000bfc 0067aa 00      0   0  1 </span><br><span class="line">  [29] .debug_abbrev     PROGBITS        00000000 0073a6 000726 00      0   0  1 </span><br><span class="line">  [30] .debug_line       PROGBITS        00000000 007acc 0003e1 00      0   0  1 </span><br><span class="line">  [31] .debug_frame      PROGBITS        00000000 007eb0 00009c 00      0   0  4 </span><br><span class="line">  [32] .debug_str        PROGBITS        00000000 007f4c 000735 00      0   0  1 </span><br><span class="line">  [33] .debug_loc        PROGBITS        00000000 008681 0000f3 00      0   0  1 </span><br><span class="line">  [34] .shstrtab         STRTAB          00000000 008774 000151 00      0   0  1 </span><br><span class="line">  [35] .symtab           SYMTAB          00000000 008e90 000590 10     36  61  4 </span><br><span class="line">  [36] .strtab           STRTAB          00000000 009420 0003f4 00      0   0  1 </span><br><span class="line">Key to Flags: </span><br><span class="line">  W (write), A (alloc), X (execute), M (merge), S (strings) </span><br><span class="line">  I (info), L (link order), G (group), x (unknown) </span><br><span class="line">  O (extra OS processing required) o (OS specific), p (processor specific)</span><br></pre></td></tr></table></figure>
<p>可见，相对非调试版本的可执行文件，多了”.debug*”段的信息。 </p>
<p> <strong>查看一个目标文件的elf文件的节信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -S myfile.o </span><br><span class="line">There are 15 section headers, starting at offset 0x204: </span><br><span class="line"></span><br><span class="line">Section Headers: </span><br><span class="line">  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al </span><br><span class="line">  [ 0]                   NULL            00000000 000000 000000 00      0   0  0 </span><br><span class="line">  [ 1] .text             PROGBITS        00000000 000034 00009e 00  AX  0   0  4 </span><br><span class="line">  [ 2] .rel.text         REL             00000000 000744 000060 08     13   1  4 </span><br><span class="line">  [ 3] .data             PROGBITS        00000000 0000d4 000000 00  WA  0   0  4 </span><br><span class="line">  [ 4] .bss              NOBITS          00000000 0000d4 000001 00  WA  0   0  4 </span><br><span class="line">  [ 5] .ctors            PROGBITS        00000000 0000d4 000004 00  WA  0   0  4 </span><br><span class="line">  [ 6] .rel.ctors        REL             00000000 0007a4 000008 08     13   5  4 </span><br><span class="line">  [ 7] .rodata           PROGBITS        00000000 0000d8 000006 00   A  0   0  1 </span><br><span class="line">  [ 8] .eh_frame         PROGBITS        00000000 0000e0 00008c 00   A  0   0  4 </span><br><span class="line">  [ 9] .rel.eh_frame     REL             00000000 0007ac 000028 08     13   8  4 </span><br><span class="line">  [10] .comment          PROGBITS        00000000 00016c 00002e 00      0   0  1 </span><br><span class="line">  [11] .note.GNU-stack   PROGBITS        00000000 00019a 000000 00      0   0  1 </span><br><span class="line">  [12] .shstrtab         STRTAB          00000000 00019a 00006a 00      0   0  1 </span><br><span class="line">  [13] .symtab           SYMTAB          00000000 00045c 000180 10     14  14  4 </span><br><span class="line">  [14] .strtab           STRTAB          00000000 0005dc 000166 00      0   0  1 </span><br><span class="line">Key to Flags: </span><br><span class="line">  W (write), A (alloc), X (execute), M (merge), S (strings) </span><br><span class="line">  I (info), L (link order), G (group), x (unknown) </span><br><span class="line">  O (extra OS processing required) o (OS specific), p (processor specific)</span><br></pre></td></tr></table></figure>
<p> <strong>查看一个静态库文件的elf文件的节信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -S libmy.a </span><br><span class="line">File: libmy.a(myfile.o) </span><br><span class="line">There are 15 section headers, starting at offset 0x204: </span><br><span class="line"></span><br><span class="line">Section Headers: </span><br><span class="line">  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al </span><br><span class="line">  [ 0]                   NULL            00000000 000000 000000 00      0   0  0 </span><br><span class="line">  [ 1] .text             PROGBITS        00000000 000034 00009e 00  AX  0   0  4 </span><br><span class="line">  [ 2] .rel.text         REL             00000000 000744 000060 08     13   1  4 </span><br><span class="line">  [ 3] .data             PROGBITS        00000000 0000d4 000000 00  WA  0   0  4 </span><br><span class="line">  [ 4] .bss              NOBITS          00000000 0000d4 000001 00  WA  0   0  4 </span><br><span class="line">  [ 5] .ctors            PROGBITS        00000000 0000d4 000004 00  WA  0   0  4 </span><br><span class="line">  [ 6] .rel.ctors        REL             00000000 0007a4 000008 08     13   5  4 </span><br><span class="line">  [ 7] .rodata           PROGBITS        00000000 0000d8 000006 00   A  0   0  1 </span><br><span class="line">  [ 8] .eh_frame         PROGBITS        00000000 0000e0 00008c 00   A  0   0  4 </span><br><span class="line">  [ 9] .rel.eh_frame     REL             00000000 0007ac 000028 08     13   8  4 </span><br><span class="line">  [10] .comment          PROGBITS        00000000 00016c 00002e 00      0   0  1 </span><br><span class="line">  [11] .note.GNU-stack   PROGBITS        00000000 00019a 000000 00      0   0  1 </span><br><span class="line">  [12] .shstrtab         STRTAB          00000000 00019a 00006a 00      0   0  1 </span><br><span class="line">  [13] .symtab           SYMTAB          00000000 00045c 000180 10     14  14  4 </span><br><span class="line">  [14] .strtab           STRTAB          00000000 0005dc 000166 00      0   0  1 </span><br><span class="line">Key to Flags: </span><br><span class="line">  W (write), A (alloc), X (execute), M (merge), S (strings) </span><br><span class="line">  I (info), L (link order), G (group), x (unknown) </span><br><span class="line">  O (extra OS processing required) o (OS specific), p (processor specific)</span><br></pre></td></tr></table></figure>
<p> <strong>查看一个动态库文件的elf文件的节信息：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost test]$ readelf -S libmy.so </span><br><span class="line">There are 27 section headers, starting at offset 0xad0: </span><br><span class="line"></span><br><span class="line">Section Headers: </span><br><span class="line">  [Nr] Name              Type            Addr     Off    Size   ES Flg Lk Inf Al </span><br><span class="line">  [ 0]                   NULL            00000000 000000 000000 00      0   0  0 </span><br><span class="line">  [ 1] .gnu.hash         GNU_HASH        000000d4 0000d4 00003c 04   A  2   0  4 </span><br><span class="line">  [ 2] .dynsym           DYNSYM          00000110 000110 000120 10   A  3   1  4 </span><br><span class="line">  [ 3] .dynstr           STRTAB          00000230 000230 000199 00   A  0   0  1 </span><br><span class="line">  [ 4] .gnu.version      VERSYM          000003ca 0003ca 000024 02   A  2   0  2 </span><br><span class="line">  [ 5] .gnu.version_r    VERNEED         000003f0 0003f0 000050 00   A  3   2  4 </span><br><span class="line">  [ 6] .rel.dyn          REL             00000440 000440 0000b0 08   A  2   0  4 </span><br><span class="line">  [ 7] .rel.plt          REL             000004f0 0004f0 000010 08   A  2   9  4 </span><br><span class="line">  [ 8] .init             PROGBITS        00000500 000500 000017 00  AX  0   0  4 </span><br><span class="line">  [ 9] .plt              PROGBITS        00000518 000518 000030 04  AX  0   0  4 </span><br><span class="line">  [10] .text             PROGBITS        00000550 000550 0001c4 00  AX  0   0 16 </span><br><span class="line">  [11] .fini             PROGBITS        00000714 000714 00001c 00  AX  0   0  4 </span><br><span class="line">  [12] .rodata           PROGBITS        00000730 000730 000006 00   A  0   0  1 </span><br><span class="line">  [13] .eh_frame_hdr     PROGBITS        00000738 000738 00002c 00   A  0   0  4 </span><br><span class="line">  [14] .eh_frame         PROGBITS        00000764 000764 000090 00   A  0   0  4 </span><br><span class="line">  [15] .ctors            PROGBITS        000017f4 0007f4 00000c 00  WA  0   0  4 </span><br><span class="line">  [16] .dtors            PROGBITS        00001800 000800 000008 00  WA  0   0  4 </span><br><span class="line">  [17] .jcr              PROGBITS        00001808 000808 000004 00  WA  0   0  4 </span><br><span class="line">  [18] .data.rel.ro      PROGBITS        0000180c 00080c 000004 00  WA  0   0  4 </span><br><span class="line">  [19] .dynamic          DYNAMIC         00001810 000810 0000e0 08  WA  3   0  4 </span><br><span class="line">  [20] .got              PROGBITS        000018f0 0008f0 00000c 04  WA  0   0  4 </span><br><span class="line">  [21] .got.plt          PROGBITS        000018fc 0008fc 000014 04  WA  0   0  4 </span><br><span class="line">  [22] .bss              NOBITS          00001910 000910 00000c 00  WA  0   0  4 </span><br><span class="line">  [23] .comment          PROGBITS        00000000 000910 0000e6 00      0   0  1 </span><br><span class="line">  [24] .shstrtab         STRTAB          00000000 0009f6 0000da 00      0   0  1 </span><br><span class="line">  [25] .symtab           SYMTAB          00000000 000f08 000410 10     26  48  4 </span><br><span class="line">  [26] .strtab           STRTAB          00000000 001318 000333 00      0   0  1 </span><br><span class="line">Key to Flags: </span><br><span class="line">  W (write), A (alloc), X (execute), M (merge), S (strings) </span><br><span class="line">  I (info), L (link order), G (group), x (unknown) </span><br><span class="line">  O (extra OS processing required) o (OS specific), p (processor specific)</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/readelf/" data-id="cjx8t58cg00g310xi4r81skx3" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/read" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/read/" class="article-date">
  <time datetime="2019-05-15T13:24:15.072Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="read"><a href="#read" class="headerlink" title="read"></a>read</h1><p>从键盘读取变量值</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>read命令</strong> 从键盘读取变量的值，通常用在shell脚本中与用户进行交互的场合。该命令可以一次读取多个变量的值，变量和输入的值都需要使用空格隔开。在read命令后面，如果没有指定变量名，读取的数据将被自动赋值给特定的变量REPLY</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-p：指定读取值时的提示符；</span><br><span class="line">-t：指定读取值时等待的时间（秒）。</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>变量：指定读取值的变量名。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>下面的列表给出了read命令的常用方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read 1987name</span><br><span class="line">从标准输入读取输入并赋值给变量1987name。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read first last</span><br><span class="line">从标准输入读取输入到第一个空格或者回车，将输入的第一个单词放到变量first中，并将该行其他的输入放在变量last中。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read</span><br><span class="line">从标准输入读取一行并赋值给特定变量REPLY。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -a arrayname</span><br><span class="line">把单词清单读入arrayname的数组里。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -p &quot;text&quot;</span><br><span class="line">打印提示（text），等待输入，并将输入存储在REPLY中。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -r line</span><br><span class="line">允许输入包含反斜杠。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -t 3</span><br><span class="line">指定读取等待时间为3秒。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -n 2 var</span><br><span class="line">从输入中读取两个字符并存入变量var，不需要按回车读取。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">read -d &quot;:&quot; var</span><br><span class="line">用定界符“:”结束输入行。</span><br></pre></td></tr></table></figure>
<h2 id="read命令示例"><a href="#read命令示例" class="headerlink" title="read命令示例"></a>read命令示例</h2><p>从标准输入读取输入并赋值给变量1987name。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#read 1987name        #等待读取输入，直到回车后表示输入完毕，并将输入赋值给变量answer</span><br><span class="line">HelloWorld            #控制台输入Hello</span><br><span class="line"></span><br><span class="line">#echo $1987name       #打印变量</span><br><span class="line">HelloWorld</span><br></pre></td></tr></table></figure>
<p>等待一组输入，每个单词之间使用空格隔开，直到回车结束，并分别将单词依次赋值给这三个读入变量。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#read one two three</span><br><span class="line">1 2 3                   #在控制台输入1 2 3，它们之间用空格隔开。</span><br><span class="line"></span><br><span class="line">#echo &quot;one = $one, two = $two, three = $three&quot;</span><br><span class="line">one = 1, two = 2, three = 3</span><br></pre></td></tr></table></figure>
<p>REPLY示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#read                  #等待控制台输入，并将结果赋值给特定内置变量REPLY。</span><br><span class="line">This is REPLY          #在控制台输入该行。 </span><br><span class="line"></span><br><span class="line">#echo $REPLY           #打印输出特定内置变量REPLY，以确认是否被正确赋值。</span><br><span class="line"></span><br><span class="line">This is REPLY</span><br></pre></td></tr></table></figure>
<p>-p选项示例</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#read -p &quot;Enter your name: &quot;            #输出文本提示，同时等待输入，并将结果赋值给REPLY。</span><br><span class="line">Enter you name: stephen                 #在提示文本之后输入stephen</span><br><span class="line"></span><br><span class="line">#echo $REPLY</span><br><span class="line">stephen</span><br></pre></td></tr></table></figure>
<p>等待控制台输入，并将输入信息视为数组，赋值给数组变量friends，输入信息用空格隔开数组的每个元素。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#read -a friends</span><br><span class="line">Tim Tom Helen</span><br><span class="line"></span><br><span class="line">#echo &quot;They are $&#123;friends[0]&#125;, $&#123;friends[1]&#125; and $&#123;friends[2]&#125;.&quot;</span><br><span class="line">They are Tim, Tom and Helen.</span><br></pre></td></tr></table></figure>
<p> <strong>补充一个终端输入密码时候，不让密码显示出来的例子。</strong> </p>
<p>方法1：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">read -p &quot;输入密码：&quot; -s pwd</span><br><span class="line">echo</span><br><span class="line">echo password read, is &quot;$pwd&quot;</span><br></pre></td></tr></table></figure>
<p>方法2：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">stty -echo</span><br><span class="line">read -p &quot;输入密码：&quot; pwd</span><br><span class="line">stty echo</span><br><span class="line">echo</span><br><span class="line">echo 输入完毕。</span><br></pre></td></tr></table></figure>
<p>其中，选项<code>-echo</code>禁止将输出发送到终端，而选项<code>echo</code>则允许发送输出。</p>
<p>使用read命令从键盘读取变量值，并且将值赋给指定的变量，输入如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">read v1 v3          #读取变量值</span><br></pre></td></tr></table></figure>
<p>执行上面的指令以后，要求键入两个数据，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Linux c+            #输入数据</span><br></pre></td></tr></table></figure>
<p>完成之后，可以使用echo命令将指定的变量值输出查看，输入如下命令：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo $v1 $v3       #输出变量的值</span><br></pre></td></tr></table></figure>
<p>执行输出变量值的命令以后，将显示用户所输入的数据值，如下所示：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Linux c+           #输出变量值</span><br></pre></td></tr></table></figure>
<p>注意：使用echo命令输出变量值时，必须在变量名前添加符号<code>$</code>。否则，echo将直接输出变量名。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/read/" data-id="cjx8t587k00ao10xi2litkfex" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/rcp" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/rcp/" class="article-date">
  <time datetime="2019-05-15T13:24:15.070Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="rcp"><a href="#rcp" class="headerlink" title="rcp"></a>rcp</h1><p>使在两台Linux主机之间的文件复制操作更简单</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>rcp命令</strong> 使在两台Linux主机之间的文件复制操作更简单。通过适当的配置，在两台Linux主机之间复制文件而无需输入密码，就像本地文件复制一样简单。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-p：保留源文件或目录的属性，包括拥有者、所属群组、权限与时间；</span><br><span class="line">-r：递归处理，将指定目录下的文件与子目录一并处理；</span><br><span class="line">-x：加密两台Linux主机间传送的所有信息。</span><br><span class="line">-D：指定远程服务器的端口号。</span><br></pre></td></tr></table></figure>
<p>同名用户的主目录。如果没有给出远程用户名，就使用当前用户名。如果远程机上的路径包含特殊shell字符，需要用反斜线<code>\\</code>、双引号<code>&quot;&quot;</code>或单引号<code>&#39;&#39;</code>括起来，使所有的shell元字符都能被远程地解释。需要说明的是，rcp不提示输入口令，它通过rsh命令来执行拷贝。</p>
<p>directory 每个文件或目录参数既可以是远程文件名也可以是本地文件名。远程文件名具有如下形式<code>rname@rhost:path</code>，其中rname是远程用户名，rhost是远程计算机名，path是这个文件的路径。</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>源文件：指定要复制的源文件。源文件可以有多个。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p> <strong>rcp命令使用条件</strong> </p>
<p>如果系统中有<code>/etc/hosts</code>文件，系统管理员应确保该文件包含要与之进行通信的远程主机的项。配置过程:</p>
<p>只对root用户生效</p>
<p>1、在双方root用户根目录下建立rhosts文件，并将双方的hostname加进去。在此之前应在双方的<code>/etc/hosts</code>文件中加入对方的ip和hostname<br>2、把rsh服务启动起来，redhat默认是不启动的。<br>方法：用执行ntsysv命令，在rsh选项前用空格键选中，确定退出。然后执行<code>service xinetd restart</code>即可。<br>3、到<code>/etc/pam.d/</code>目录下，把rsh文件中的<code>auth required /lib/security/pam_securetty.so</code>一行用“#”注释掉即可。（只有注释掉这一行，才能用root用户登录）</p>
<p> <strong>将当前目录下的 test1 复制到名为 webserver1 的远程系统：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp test1 webserver1:/home/root/test3</span><br></pre></td></tr></table></figure>
<p>在这种情况下，test1 被复制到远程子目录 test3下，名称仍为 test1 。如果仅提供了远程主机名，rcp 将把 test1 复制到远程主目录下，名称仍为 test1 。</p>
<p> <strong>还可以在目的目录中包含文件名。例如，将文件复制到名为 webserver1的系统中：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp test1 webserver1:/home/root/test3</span><br></pre></td></tr></table></figure>
<p>在这种情况下，将 test1 复制到远程目录root 下并将其命名为 test3。</p>
<p> <strong>从远程系统复制文件：要将远程系统中的文件复制到本地目录下：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp remote_hostname:remote_file local_fileEnter</span><br></pre></td></tr></table></figure>
<p> <strong>将远程系统 webserver1中的 test2 复制到当前目录：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp webserver1:/home/root/test2 .Enter</span><br></pre></td></tr></table></figure>
<p><code>.</code>是“当前目录”的简写形式。在这种情况下，远程目录中的 test2 被复制到当前目录下，名称仍为 test2 。</p>
<p>如果希望用新名称复制文件，请提供目标文件名。如果希望将 test2 复制到本地系统中的其他目录下，请使用以下绝对或相对路径名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp webserver1:/home/root/test2 otherdir/ Enter</span><br></pre></td></tr></table></figure>
<p>或者，如果希望用其他文件名将文件复制到其他目录下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp webserver1:/home/root/test2 otherdir/otherfile Enter</span><br></pre></td></tr></table></figure>
<p> <strong>将目录复制到远程系统：</strong> </p>
<p>要将本地目录及其文件和子目录复制到远程系统，请同时使用 rcp 和 -r（递归）选项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp -r local_dir remote_hostname:remote_dir Enter</span><br></pre></td></tr></table></figure>
<p>如果当前目录下没有 local_dir，则除本地目录名外，还需要提供相对路径名（自当前目录开始）或绝对路径名（自 / 顶级目录开始）。另外，如果主目录下没有 remote_dir，则 remote_dir 将需要一个相对路径（自主目录开始）或绝对路径（自 / 开始）。</p>
<p> <strong>要将名为 work 的子目录完整地复制到 webserver1远程计算机中的主目录下名为 products 的目录，请键入以下内容：</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp -r work webserver1:/home/root/products Enter</span><br></pre></td></tr></table></figure>
<p>此命令在<code>webserver1:/home/root/products</code>下创建名为 work 的目录及其全部内容（假定<code>/home/root/products</code>已存在于 webserver1中）。</p>
<p>本示例假定用户处于包含 work 的本地目录下。否则，必须提供该目录的相对或绝对路径，如<code>/home/root/work</code>。</p>
<p> <strong>从远程系统复制目录：</strong> </p>
<p>要将远程目录及其所有文件和子目录复制到本地目录，请在以下语法中使用 rcp 和 -r（递归）选项。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp –r remote_hostname:remote_dir local_dir Enter</span><br></pre></td></tr></table></figure>
<p>要将名为 work 的远程目录复制到当前目录，请键入以下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcp –r webserver1:/home/root/work .Enter</span><br></pre></td></tr></table></figure>
<p><code>.</code>表示当前目录。将在此目录下创建 work 目录。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/rcp/" data-id="cjx8t587j00an10xi2dqd8ueh" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/rcconf" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/rcconf/" class="article-date">
  <time datetime="2019-05-15T13:24:15.068Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="rcconf"><a href="#rcconf" class="headerlink" title="rcconf"></a>rcconf</h1><p>Debian Linux下的运行等级服务配置工具</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>rcconf命令</strong> 是Debian Linux下的运行等级服务配置工具，用以设置在特定的运行等级下系统服务的启动配置。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rcconf(选项)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">--help：打印帮助信息；</span><br><span class="line">--dialog：使用对话命令显示菜单；</span><br><span class="line">--notermcheck：不按照终端属性来设置窗口尺寸。</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/rcconf/" data-id="cjx8t587h00ak10xip3uzkyka" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/quotaon" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/quotaon/" class="article-date">
  <time datetime="2019-05-15T13:24:15.066Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="quotaon"><a href="#quotaon" class="headerlink" title="quotaon"></a>quotaon</h1><p>激活Linux内核中指定文件系统的磁盘配额功能</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>quotaon命令</strong> 用于激活Linux内核中指定文件系统的磁盘配额功能。执行quotaon指令可开启用户和群组的才磅秒年空间限制，各分区的文件系统根目录必须有quota.user和quota.group配置文件。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quotaon(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-a：开启在/ect/fstab文件里，有加入quota设置的分区的空间限制；</span><br><span class="line">-g：开启群组的磁盘空间限制；</span><br><span class="line">-u：开启用户的磁盘空间限制；</span><br><span class="line">-v：显示指令指令执行过程。</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>文件系统：指定要激活磁盘配额功能的文件系统。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/quotaon/" data-id="cjx8t587j00am10xirszisjzv" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/quotaoff" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/quotaoff/" class="article-date">
  <time datetime="2019-05-15T13:24:15.064Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="quotaoff"><a href="#quotaoff" class="headerlink" title="quotaoff"></a>quotaoff</h1><p>关闭Linux内核中指定文件系统的磁盘配额功能</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>quotaoff命令</strong> 用于关闭Linux内核中指定文件系统的磁盘配额功能。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quotaoff(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">-a：关闭在/etc/fstab文件里，有加入quota设置的分区的空间限制；</span><br><span class="line">-g：关闭群组的磁盘空间限制；</span><br><span class="line">-u：关闭用户的磁盘空间限制；</span><br><span class="line">-v：显示指令执行过程。</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>文件系统：指定要关闭磁盘配额功能的文件系统。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/quotaoff/" data-id="cjx8t587i00al10xi46bt01e4" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/quotacheck" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/quotacheck/" class="article-date">
  <time datetime="2019-05-15T13:24:15.063Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="quotacheck"><a href="#quotacheck" class="headerlink" title="quotacheck"></a>quotacheck</h1><p>检查磁盘的使用空间与限制</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>quotacheck命令</strong> 通过扫描指定的文件系统，获取磁盘的使用情况，创建、检查和修复磁盘配额（quota）文件。执行quotacheck指令，扫描挂入系统的分区，并在各分区的文件系统根目录下产生quota.user和quota.group文件，设置用户和群组的磁盘空间限制。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quotacheck(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">-a：扫描在/etc/fstab文件里，有加入quota设置的分区；</span><br><span class="line">-d：详细显示指令执行过程，便于排错或了解程序执行的情形；</span><br><span class="line">-g：扫描磁盘空间时，计算每个群组识别码所占用的目录和文件数目；</span><br><span class="line">-R：排除根目录所在的分区；</span><br><span class="line">-u：扫描磁盘空间时，计算每个用户识别码所占用的目录和文件数目；</span><br><span class="line">-v：显示指令执行过程。</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>文件系统：指定要扫描的文件系统。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>将所有的在<code>/etc/mtab</code>内，含有quota支持的partition进行扫描：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@linux ~]# quotacheck -avug</span><br><span class="line">quotacheck: Scanning /dev/hdb1 [/disk2] done</span><br><span class="line">quotacheck: Checked 3 directories and 4 files</span><br></pre></td></tr></table></figure>
<p>强制扫描已挂载的filesystem：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linux ~]# quotacheck -avug -m</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/quotacheck/" data-id="cjx8t587h00aj10xia1upsfom" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/quota" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/quota/" class="article-date">
  <time datetime="2019-05-15T13:24:15.061Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="quota"><a href="#quota" class="headerlink" title="quota"></a>quota</h1><p>显示磁盘已使用的空间与限制</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>quota命令</strong> 用于显示用户或者工作组的磁盘配额信息。输出信息包括磁盘使用和配额限制。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">quota(选项)(参数)</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-g：列出群组的磁盘空间限制；</span><br><span class="line">-q：简明列表，只列出超过限制的部分；</span><br><span class="line">-u：列出用户的磁盘空间限制；</span><br><span class="line">-v：显示该用户或群组，在所有挂入系统的存储设备的空间限制；</span><br><span class="line">-V：显示版本信息。</span><br></pre></td></tr></table></figure>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>用户或者工作组：指定要显示的用户或者工作组。</p>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><p>我们可以限制某一群组所能使用的最大磁盘配额，而且可以再限制某一使用者的最大磁盘配额 ，好比做一个收费的应用，vip可以得到空间更大一些。另外，以 Link 的方式，来使邮件可以作为限制的配额（更改<code>/var/spool/mail</code> 这个路径），不2，需要重新再规划一个硬盘！直接使用 Link 的方式指向 /home （或者其它已经做好的 quota 磁盘）就可以！这通常是用在原本规划不好，但是却又不想要更动原有主机架构的情况中！</p>
<p>要求：Linux 主机里面主要针对 quser1 及 quser2 两个使用者来进行磁盘配额， 且这两个使用者都是挂在 qgroup 组里面的。每个使用者总共有 50MB 的磁盘空间 (不考虑 inode) 限制！并且 soft limit 为 45 MB；而宽限时间设定为 1 天， 但是在一天之内必须要将多余的文件删除掉，否则将无法使用剩下的空间 ；gquota 这个组考虑最大限额，所以设定为 90 MB！（注意，这样设置的好处是富有弹性，好比现在的邮件服务，那么多用户，承诺给用户每人最大空间为数GB，然而人们不可能每人都会使用那么大的空间，所以邮件服务的总空间，实际上肯定不是注册客户数乘以数GB，否则这样得多大啊。）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# groupadd qgroup</span><br><span class="line">[root@localhost ~]# useradd -m -g qgroup quser1</span><br><span class="line">[root@localhost ~]# useradd -m -g qgroup quser2</span><br><span class="line">[root@localhost ~]# passwd quser1</span><br><span class="line">[root@localhost ~]# passwd quser2</span><br><span class="line">[root@localhost ~]# df     ===&gt;  自己找一个合适的分区来做实验，这里用/disk2</span><br><span class="line">Filesystem             1K-blocks        Used      Available   Use% Mounted on</span><br><span class="line">/dev/hda1              5952252   3193292     2451720     57%     /</span><br><span class="line">/dev/hdb1            28267608       77904   26730604       1%     /disk2</span><br><span class="line">/dev/hda5              9492644     227252     8775412       3%     /disk1</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# vi /etc/fstab</span><br><span class="line">LABEL=/             /                ext3      defaults                                     1 1</span><br><span class="line">LABEL=/disk1    /disk1        ext3      defaults                                      1 2</span><br><span class="line">LABEL=/disk2    /disk2        ext3      defaults,usrquota,grpquota       1 2  </span><br><span class="line">/dev/hda3         swap         swap     defaults                                     0 0</span><br></pre></td></tr></table></figure>
<p>注意多了<code>usrquota,grpquota</code>，在<code>defaults,usrquota,grpquota</code>之间都没有空格，务必正确书写。这样就算加入了 quota 的磁盘格式了！不过，由于真正的 quota 在读取的时候是读取<code>/etc/mtab</code>这个文件的，而该文件需要重新开机之后才能够以/etc/fstab 的新数据进行改写！所以这个时候可以选择：重新开机 (reboot)。</p>
<p>重新<code>remount filesystem</code>来驱动设定值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# umount /dev/hdb1</span><br><span class="line">[root@localhost ~]# mount -a</span><br><span class="line">[root@localhost ~]# grep &apos;/disk2&apos; /etc/mtab</span><br><span class="line">/dev/hdb1 /disk2 ext3 rw,usrquota,grpquota 0 0</span><br></pre></td></tr></table></figure>
<p>事实上，也可以利用 mount 的 remount 功能。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# mount -o remount /disk2</span><br></pre></td></tr></table></figure>
<p>这样就已经成功的将 filesystem 的 quota 功能加入。</p>
<p>扫瞄磁盘的使用者使用状况，并产生重要的 aquota.group 与 aquota.user：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# quotacheck -avug</span><br><span class="line">quotacheck: Scanning /dev/hdb1 [/disk2] done</span><br><span class="line">quotacheck: Checked 3 directories and 4 files</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# ll /disk2</span><br><span class="line">-rw-------  1 root root  6144 Sep  6 11:44 aquota.group</span><br><span class="line">-rw-------  1 root root  6144 Sep  6 11:44 aquota.user</span><br></pre></td></tr></table></figure>
<p>使用 quotacheck 就可以轻易的将所需要的数据给他输出了！但奇怪的是，在某些 Linux 版本中，不能够以 aquota.user(group) 来启动quota ，可能是因为旧版 quota 的关系， 所以就另外做了一个 link 文件按来欺骗 quota，这个动作非必要。（主要是学习这个思维很重要）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# cd /disk2</span><br><span class="line">[root@localhost ~]# ln -s aquota.user quota.user</span><br><span class="line">[root@localhost ~]# ln -s aquota.group quota.group</span><br></pre></td></tr></table></figure>
<p>启动 quota 的限额：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# quotaon -avug</span><br><span class="line">/dev/hdb1 [/disk2]: group quotas turned on</span><br><span class="line">/dev/hdb1 [/disk2]: user quotas turned on    ===&gt;  看到turned on，才是真的成功！</span><br></pre></td></tr></table></figure>
<p>编辑使用者的可使用空间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# edquota -u quser1</span><br><span class="line">Disk quotas for user quser1 (uid 502):</span><br><span class="line">  Filesystem    blocks    soft    hard   inodes   soft   hard</span><br><span class="line">  /dev/hdb1           0     45000    50000         0      0      0</span><br><span class="line">[root@localhost ~]# edquota -p quser1 quser2      ===&gt;  直接复制给quser2</span><br></pre></td></tr></table></figure>
<p>接下来要来设定宽限时间，还是使用 edquota</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# edquota -t</span><br><span class="line">Grace period before enforcing soft limits for users:</span><br><span class="line">time units may be: days, hours, minutes, or seconds</span><br><span class="line">  Filesystem             Block grace period     Inode grace period</span><br><span class="line">  /dev/hdb1                     1days                  7days</span><br></pre></td></tr></table></figure>
<p>使用<code>quota -v</code>来查询：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# quota -vu quser1 quser2</span><br><span class="line">Disk quotas for user quser1 (uid 502):</span><br><span class="line">     Filesystem  blocks   quota      limit   grace   files   quota   limit   grace</span><br><span class="line">      /dev/hdb1         0    45000    50000                   0       0       0</span><br><span class="line">Disk quotas for user quser2 (uid 503):</span><br><span class="line">     Filesystem  blocks   quota      limit   grace   files   quota   limit   grace</span><br><span class="line">      /dev/hdb1         0    45000    50000                   0       0       0</span><br></pre></td></tr></table></figure>
<p>注意，由于使用者尚未超过45 MB，所以 grace ( 宽限时间 ) 就不会出现。</p>
<p>编辑群组可使用的空间：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# edquota -g qgroup</span><br><span class="line">Disk quotas for group qgroup (gid 502):</span><br><span class="line">  Filesystem     blocks       soft       hard    inodes   soft   hard</span><br><span class="line">  /dev/hdb1            0      80000   90000           0      0      0</span><br><span class="line"></span><br><span class="line">[root@localhost ~]# quota -vg qgroup</span><br><span class="line">Disk quotas for group qgroup (gid 502):</span><br><span class="line">     Filesystem   blocks    quota      limit      grace    files   quota   limit   grace</span><br><span class="line">      /dev/hdb1         0     80000   90000                       0        0        0</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/quota/" data-id="cjx8t587f00ah10xi5e6cey98" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/pwunconv" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/pwunconv/" class="article-date">
  <time datetime="2019-05-15T13:24:15.059Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="pwunconv"><a href="#pwunconv" class="headerlink" title="pwunconv"></a>pwunconv</h1><p>用来关闭用户的投影密码</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>pwunconv命令</strong> 与pwconv功能相反，用来关闭用户的投影密码。它会把密码从shadow文件内，重回存到passwd文件里。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwunconv</span><br></pre></td></tr></table></figure>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pwunconv     //关闭影子密码</span><br><span class="line">cat /etc/passwd | grep test     //发现密码已经在passwd文件中了</span><br><span class="line">test:$6$nYOEWamm$bz07nlv/.RgJufb3FAqJJeULfwybzgxmrWqbk7O4vI0KsT6N.ujrh6dDIUcAJdfjksyuyAFDPIngZeD3cgcf.0:3001:3001::/home/test:/bin/sh</span><br><span class="line"></span><br><span class="line">ls /etc/shadow     //查看影子文件，提示没有这个文件或目录</span><br><span class="line">ls: cannot access /etc/shadow: No such file or directory</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/pwunconv/" data-id="cjx8t587g00ai10xidphruhdc" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-linux_command/pwd" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/15/linux_command/pwd/" class="article-date">
  <time datetime="2019-05-15T13:24:15.058Z" itemprop="datePublished">2019-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h1><p>绝对路径方式显示用户当前工作目录</p>
<h2 id="补充说明"><a href="#补充说明" class="headerlink" title="补充说明"></a>补充说明</h2><p><strong>pwd命令</strong> 以绝对路径的方式显示用户当前工作目录。命令将当前目录的全路径名称（从根目录）写入标准输出。全部目录使用<code>/</code>分隔。第一个<code>/</code>表示根目录，最后一个目录是当前目录。执行pwd命令可立刻得知您目前所在的工作目录的绝对路径名称。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd（选项）</span><br></pre></td></tr></table></figure>
<h3 id="选项"><a href="#选项" class="headerlink" title="选项"></a>选项</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--help：显示帮助信息；</span><br><span class="line">--version：显示版本信息。</span><br></pre></td></tr></table></figure>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]# pwd</span><br><span class="line">/root</span><br></pre></td></tr></table></figure>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2019/05/15/linux_command/pwd/" data-id="cjx8t587e00ae10xi5s24f9us" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/page/18/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><a class="page-number" href="/page/21/">21</a><span class="space">&hellip;</span><a class="page-number" href="/page/57/">57</a><a class="extend next" rel="next" href="/page/20/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ARTS/">ARTS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/面试/">面试</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ARTS/" style="font-size: 20px;">ARTS</a> <a href="/tags/面试/" style="font-size: 10px;">面试</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/06/20/ARTS第九周/">ARTS第九周</a>
          </li>
        
          <li>
            <a href="/2019/06/08/ARTS第八周/">ARTS第八周</a>
          </li>
        
          <li>
            <a href="/2019/05/25/ARTS第七周/">ARTS第七周</a>
          </li>
        
          <li>
            <a href="/2019/05/15/linux_command/znew/">(no title)</a>
          </li>
        
          <li>
            <a href="/2019/05/15/linux_command/zipsplit/">(no title)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2019 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>